"use strict";var width=window.innerWidth;function zoom(t,e,n){t=void 0!==t&&Object.keys(t).length?t:{};var i=(e=void 0!==e&&Object.keys(e).length?e:{}).scaleDefault||2,r=e.scaleDifference||.5,o=e.scaleMax||10,s=e.scaleMin||1,a=e.scrollDisable||!0,l=e.transitionDuration||200,u=e.doubleclickDelay||300,c=!function(){if(["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].indexOf(navigator.platform)>-1||navigator.userAgent.includes("Mac")&&"ontouchend"in document){var t=navigator.userAgent.toLowerCase();if(t.indexOf("safari")>-1&&-1===t.indexOf("chrome"))return!0}return!1}();if(a){var d=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){d=!0}}))}catch(t){}var h=!!d&&{passive:!1},f="onwheel"in document.createElement("div")?"wheel":"mousewheel"}for(var m,b,v,g,A,p,w,x,E,M,L,y,z,F,D,Y,X,W,k,H,O,S,C,P,N,R,T,B,j,q,V,I,G=t.active||"zoom-active",J="data-scale",K="data-translate-x",Q="data-translate-y",U=t.transition||"zoom-transition",Z=t.visible||"zoom-visible",_=t.zoom||"zoom",tt=document.getElementsByClassName(_),et=!1,nt=[null],it=0,rt=!1,ot=0,st=[null],at=0;at<tt.length;at++)m=tt[at],(b=m.children[0]).setAttribute(J,1),b.setAttribute(K,0),b.setAttribute(Q,0);function lt(t,e){!1===ct(t,e)&&(t.className+=" "+e)}function ut(t,e,n){return t>=e&&t<=n}function ct(t,e){var n=new RegExp("(?:^|\\s)"+e+"(?!\\S)","g");return!!t.className.match(n)}function dt(t,e,n,i){i=i||!1;for(var r=0;r<t.length;r++)t[r].addEventListener(e,n,i)}function ht(t,e,n){return t<e?t=e:t>n&&(t=n),t}function ft(t,e,n,i){t.style.cssText=c?"-moz-transform : translate("+e+", "+n+") scale("+i+"); -ms-transform : translate("+e+", "+n+") scale("+i+"); -o-transform : translate("+e+", "+n+") scale("+i+"); -webkit-transform : translate("+e+", "+n+") scale("+i+"); transform : translate3d("+e+", "+n+", 0) scale3d("+i+", "+i+", 1);":"-moz-transform : translate("+e+", "+n+") scale("+i+"); -ms-transform : translate("+e+", "+n+") scale("+i+"); -o-transform : translate("+e+", "+n+") scale("+i+"); -webkit-transform : translate("+e+", "+n+") scale("+i+"); transform : translate("+e+", "+n+") scale("+i+", "+i+")"}function mt(t){(t=t||window.event).preventDefault&&t.preventDefault(),t.returnValue=!1}function bt(t){if({37:1,38:1,39:1,40:1}[t.keyCode])return mt(t),!1}function vt(t,e){var n=new RegExp("(?:^|\\s)"+e+"(?!\\S)","g");t.className=t.className.replace(n,"")}function gt(t,e,n){return(t*n-e)/2}function At(t){lt(t,G),n&&n(t,!0)}function pt(t){vt(t,G),n&&n(t,!1)}window.addEventListener("load",function(){for(var t=0;t<tt.length;t++)m=tt[t],lt(b=m.children[0],Z);window.addEventListener("resize",function(){for(var t=0;t<tt.length;t++)m=tt[t],b=m.children[0],!1!==ct(m,G)&&(v=m.clientHeight,g=m.clientWidth,x=b.clientHeight,E=b.clientWidth,M=parseFloat(b.getAttribute(K)),L=parseFloat(b.getAttribute(Q)),X=gt(E,g,V=i),W=gt(x,v,V),B=E*V>g?ht(M,-1*X,X):0,j=x*V>v?ht(L,-1*W,W):0,1===V&&pt(m),b.setAttribute(J,V),b.setAttribute(K,B),b.setAttribute(Q,j),ft(b,B+"px",j+"px",V))})}),dt(tt,"mousedown",function(t){if(mt(),!0===rt||1!==t.which)return!1;if(m=this,b=this.children[0],z=t.clientX,D=t.clientY,null===nt[0])nt[0]=t.target,nt[1]=z,nt[2]=D,setTimeout(function(){nt=[null]},u);else if(nt[0]===t.target&&it<=5&&!0===ut(z,nt[1]-10,nt[1]+10)&&!0===ut(D,nt[2]-10,nt[2]+10))return lt(b,U),!0===ct(m,G)?(b.setAttribute(J,1),b.setAttribute(K,0),b.setAttribute(Q,0),pt(m),ft(b,0,0,1)):(S=t.clientX,P=t.clientY,T=(i-1)*(R=1),X=gt(E,g,V=i),W=gt(x,v,V),V<=1?(B=0,j=0):(B=E*V<=g?0:ht(M-(S-A-g/2-M)/(V-T)*T,-1*X,X),j=x*V<=v?0:ht(L-(P-p-v/2-L)/(V-T)*T,-1*W,W)),At(m),b.setAttribute(J,V),b.setAttribute(K,B),b.setAttribute(Q,j),ft(b,B+"px",j+"px",i)),setTimeout(function(){vt(b,U)},l),nt=[null],!1;k=m.getBoundingClientRect(),A=k.left,p=k.top,v=m.clientHeight,g=m.clientWidth,x=b.clientHeight,E=b.clientWidth,M=parseFloat(b.getAttribute(K)),L=parseFloat(b.getAttribute(Q)),w=ht(parseFloat(b.getAttribute(J)),s,o),it=0,et=!0}),dt(tt,"mouseenter",function(){!function(){if(!a)return!1;window.addEventListener("DOMMouseScroll",mt,!1),window.addEventListener(f,mt,h),window.addEventListener("touchmove",mt,h),window.addEventListener("keydown",bt,!1)}()}),dt(tt,"mouseleave",function(){!function(){if(!a)return!1;window.removeEventListener("DOMMouseScroll",mt,!1),window.removeEventListener(f,mt,h),window.removeEventListener("touchmove",mt,h),window.removeEventListener("keydown",bt,!1)}()}),document.addEventListener("mousemove",function(t){if(!0===rt||!1===et)return!1;S=t.clientX,P=t.clientY,X=gt(E,g,V=w),W=gt(x,v,V),B=E*V<=g?0:ht(S-(z-M),-1*X,X),j=x*V<=v?0:ht(P-(D-L),-1*W,W),it++,Math.abs(B)===Math.abs(X)&&(M=B,z=S);Math.abs(j)===Math.abs(W)&&(L=j,D=P);b.setAttribute(J,V),b.setAttribute(K,B),b.setAttribute(Q,j),ft(b,B+"px",j+"px",V)}),document.addEventListener("mouseup",function(){if(!0===rt||!1===et)return!1;et=!1}),document.addEventListener("touchstart",function(){rt=!0}),dt(tt,"touchstart",function(t){if($(".zoom-mobile-touch-contol").hasClass("show")){if(mt(),t.touches.length>2)return!1;if(m=this,b=this.children[0],k=m.getBoundingClientRect(),A=k.left,p=k.top,v=m.clientHeight,g=m.clientWidth,x=b.clientHeight,E=b.clientWidth,z=t.touches[0].clientX,D=t.touches[0].clientY,w=ht(parseFloat(b.getAttribute(J)),s,o),1===(I=t.touches.length)){if(null===st[0])st[0]=t.target,st[1]=z,st[2]=D,setTimeout(function(){st=[null]},u);else if(st[0]===t.target&&ot<=1&&!0===ut(z,st[1]-10,st[1]+10)&&!0===ut(D,st[2]-10,st[2]+10))return lt(b,U),!0===ct(m,G)?(b.setAttribute(J,1),b.setAttribute(K,0),b.setAttribute(Q,0),pt(m),ft(b,0,0,1)):(S=t.touches[0].clientX,P=t.touches[0].clientY,T=(i-1)*(R=1),X=gt(E,g,V=i),W=gt(x,v,V),V<=1?(B=0,j=0):(B=E*V<=g?0:ht(M-(S-A-g/2-M)/(V-T)*T,-1*X,X),j=x*V<=v?0:ht(L-(P-p-v/2-L)/(V-T)*T,-1*W,W)),At(m),b.setAttribute(J,V),b.setAttribute(K,B),b.setAttribute(Q,j),ft(b,B+"px",j+"px",i)),setTimeout(function(){vt(b,U)},l),st=[null],!1;M=parseFloat(b.getAttribute(K)),L=parseFloat(b.getAttribute(Q))}else 2===I&&(M=parseFloat(b.getAttribute(K)),L=parseFloat(b.getAttribute(Q)),F=t.touches[1].clientX,Y=t.touches[1].clientY,H=(z+F)/2,O=(D+Y)/2,y=Math.sqrt((z-F)*(z-F)+(D-Y)*(D-Y)));ot=0,et=!0}}),document.addEventListener("touchmove",function(t){if($(".zoom-mobile-touch-contol").hasClass("show")){if(mt(),!1===et)return!1;S=t.touches[0].clientX,P=t.touches[0].clientY,I=t.touches.length,ot++,I>1?(C=t.touches[1].clientX,N=t.touches[1].clientY,q=Math.sqrt((S-C)*(S-C)+(P-N)*(P-N)),null===y&&(y=q),Math.abs(y-q)>=1&&(V=ht(q/y*w,s,o),X=gt(E,g,V),W=gt(x,v,V),T=V-w,B=E*V<=g?0:ht(M-(H-A-g/2-M)/(V-T)*T,-1*X,X),j=x*V<=v?0:ht(L-(O-p-v/2-L)/(V-T)*T,-1*W,W),V>1?At(m):pt(m),ft(b,B+"px",j+"px",V),y=q,w=V,M=B,L=j)):(X=gt(E,g,V=w),W=gt(x,v,V),B=E*V<=g?0:ht(S-(z-M),-1*X,X),j=x*V<=v?0:ht(P-(D-L),-1*W,W),Math.abs(B)===Math.abs(X)&&(M=B,z=S),Math.abs(j)===Math.abs(W)&&(L=j,D=P),b.setAttribute(J,w),b.setAttribute(K,B),b.setAttribute(Q,j),ft(b,B+"px",j+"px",V))}},{passive:!1}),document.addEventListener("touchend",function(t){if($(".zoom-mobile-touch-contol").hasClass("show")){if(I=t.touches.length,!1===et)return!1;0===I?(b.setAttribute(J,w),b.setAttribute(K,B),b.setAttribute(Q,j),y=null,et=!1):1===I?(z=t.touches[0].clientX,D=t.touches[0].clientY):I>1&&(y=null)}}),dt(tt,"wheel",function(t){if(m=this,b=this.children[0],k=m.getBoundingClientRect(),v=m.clientHeight,g=m.clientWidth,x=b.clientHeight,E=b.clientWidth,A=k.left,p=k.top,w=ht(parseFloat(b.getAttribute(J),s,o)),M=parseFloat(b.getAttribute(K)),L=parseFloat(b.getAttribute(Q)),S=t.clientX,P=t.clientY,R=t.deltaY<0?1:-1,(V=w+(T=r*R))<s||V>o)return!1;X=gt(E,g,V),W=gt(x,v,V),V<=1?(B=0,j=0):(B=E*V<=g?0:ht(M-(S-A-g/2-M)/(V-T)*T,-1*X,X),j=x*V<=v?0:ht(L-(P-p-v/2-L)/(V-T)*T,-1*W,W));V>1?At(m):pt(m);b.setAttribute(J,V),b.setAttribute(K,B),b.setAttribute(Q,j),ft(b,B+"px",j+"px",V)})}function zoom(t,e,n){t=void 0!==t&&Object.keys(t).length?t:{};var i=(e=void 0!==e&&Object.keys(e).length?e:{}).scaleDefault||2,r=e.scaleDifference||.5,o=e.scaleMax||10,s=e.scaleMin||1,a=e.scrollDisable||!0,l=e.transitionDuration||200,u=e.doubleclickDelay||300,c=!function(){if(["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].indexOf(navigator.platform)>-1||navigator.userAgent.includes("Mac")&&"ontouchend"in document){var t=navigator.userAgent.toLowerCase();if(t.indexOf("safari")>-1&&-1===t.indexOf("chrome"))return!0}return!1}();if(a){var d=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){d=!0}}))}catch(t){}var h=!!d&&{passive:!1},f="onwheel"in document.createElement("div")?"wheel":"mousewheel"}for(var m,b,v,g,A,p,w,x,E,M,L,y,z,F,D,Y,X,W,k,H,O,S,C,P,N,R,T,B,j,q,$,V,I=t.active||"zoom-active",G="data-scale",J="data-translate-x",K="data-translate-y",Q=t.transition||"zoom-transition",U=t.visible||"zoom-visible",Z=t.zoom||"zoom",_=document.getElementsByClassName(Z),tt=!1,et=[null],nt=0,it=!1,rt=0,ot=[null],st=0;st<_.length;st++)m=_[st],(b=m.children[0]).setAttribute(G,1),b.setAttribute(J,0),b.setAttribute(K,0);function at(t,e){!1===ut(t,e)&&(t.className+=" "+e)}function lt(t,e,n){return t>=e&&t<=n}function ut(t,e){var n=new RegExp("(?:^|\\s)"+e+"(?!\\S)","g");return!!t.className.match(n)}function ct(t,e,n,i){i=i||!1;for(var r=0;r<t.length;r++)t[r].addEventListener(e,n,i)}function dt(t,e,n){return t<e?t=e:t>n&&(t=n),t}function ht(t,e,n,i){t.style.cssText=c?"-moz-transform : translate("+e+", "+n+") scale("+i+"); -ms-transform : translate("+e+", "+n+") scale("+i+"); -o-transform : translate("+e+", "+n+") scale("+i+"); -webkit-transform : translate("+e+", "+n+") scale("+i+"); transform : translate3d("+e+", "+n+", 0) scale3d("+i+", "+i+", 1);":"-moz-transform : translate("+e+", "+n+") scale("+i+"); -ms-transform : translate("+e+", "+n+") scale("+i+"); -o-transform : translate("+e+", "+n+") scale("+i+"); -webkit-transform : translate("+e+", "+n+") scale("+i+"); transform : translate("+e+", "+n+") scale("+i+", "+i+")"}function ft(t){(t=t||window.event).preventDefault&&t.preventDefault(),t.returnValue=!1}function mt(t){if({37:1,38:1,39:1,40:1}[t.keyCode])return ft(t),!1}function bt(t,e){var n=new RegExp("(?:^|\\s)"+e+"(?!\\S)","g");t.className=t.className.replace(n,"")}function vt(t,e,n){return(t*n-e)/2}function gt(t){at(t,I),n&&n(t,!0)}function At(t){bt(t,I),n&&n(t,!1)}window.addEventListener("load",function(){for(var t=0;t<_.length;t++)m=_[t],at(b=m.children[0],U);window.addEventListener("resize",function(){for(var t=0;t<_.length;t++)m=_[t],b=m.children[0],!1!==ut(m,I)&&(v=m.clientHeight,g=m.clientWidth,x=b.clientHeight,E=b.clientWidth,M=parseFloat(b.getAttribute(J)),L=parseFloat(b.getAttribute(K)),X=vt(E,g,$=i),W=vt(x,v,$),B=E*$>g?dt(M,-1*X,X):0,j=x*$>v?dt(L,-1*W,W):0,1===$&&At(m),b.setAttribute(G,$),b.setAttribute(J,B),b.setAttribute(K,j),ht(b,B+"px",j+"px",$))})}),ct(_,"mousedown",function(t){if(ft(),!0===it||1!==t.which)return!1;if(m=this,b=this.children[0],z=t.clientX,D=t.clientY,null===et[0])et[0]=t.target,et[1]=z,et[2]=D,setTimeout(function(){et=[null]},u);else if(et[0]===t.target&&nt<=5&&!0===lt(z,et[1]-10,et[1]+10)&&!0===lt(D,et[2]-10,et[2]+10))return at(b,Q),!0===ut(m,I)?(b.setAttribute(G,1),b.setAttribute(J,0),b.setAttribute(K,0),At(m),ht(b,0,0,1)):(S=t.clientX,P=t.clientY,T=(i-1)*(R=1),X=vt(E,g,$=i),W=vt(x,v,$),$<=1?(B=0,j=0):(B=E*$<=g?0:dt(M-(S-A-g/2-M)/($-T)*T,-1*X,X),j=x*$<=v?0:dt(L-(P-p-v/2-L)/($-T)*T,-1*W,W)),gt(m),b.setAttribute(G,$),b.setAttribute(J,B),b.setAttribute(K,j),ht(b,B+"px",j+"px",i)),setTimeout(function(){bt(b,Q)},l),et=[null],!1;k=m.getBoundingClientRect(),A=k.left,p=k.top,v=m.clientHeight,g=m.clientWidth,x=b.clientHeight,E=b.clientWidth,M=parseFloat(b.getAttribute(J)),L=parseFloat(b.getAttribute(K)),w=dt(parseFloat(b.getAttribute(G)),s,o),nt=0,tt=!0}),ct(_,"mouseenter",function(){!function(){if(!a)return!1;window.addEventListener("DOMMouseScroll",ft,!1),window.addEventListener(f,ft,h),window.addEventListener("touchmove",ft,h),window.addEventListener("keydown",mt,!1)}()}),ct(_,"mouseleave",function(){!function(){if(!a)return!1;window.removeEventListener("DOMMouseScroll",ft,!1),window.removeEventListener(f,ft,h),window.removeEventListener("touchmove",ft,h),window.removeEventListener("keydown",mt,!1)}()}),document.addEventListener("mousemove",function(t){if(!0===it||!1===tt)return!1;S=t.clientX,P=t.clientY,X=vt(E,g,$=w),W=vt(x,v,$),B=E*$<=g?0:dt(S-(z-M),-1*X,X),j=x*$<=v?0:dt(P-(D-L),-1*W,W),nt++,Math.abs(B)===Math.abs(X)&&(M=B,z=S),Math.abs(j)===Math.abs(W)&&(L=j,D=P),b.setAttribute(G,$),b.setAttribute(J,B),b.setAttribute(K,j),ht(b,B+"px",j+"px",$)}),document.addEventListener("mouseup",function(){if(!0===it||!1===tt)return!1;tt=!1}),document.addEventListener("touchstart",function(){it=!0}),ct(_,"touchstart",function(t){if(ft(),t.touches.length>2)return!1;if(m=this,b=this.children[0],k=m.getBoundingClientRect(),A=k.left,p=k.top,v=m.clientHeight,g=m.clientWidth,x=b.clientHeight,E=b.clientWidth,z=t.touches[0].clientX,D=t.touches[0].clientY,w=dt(parseFloat(b.getAttribute(G)),s,o),1===(V=t.touches.length)){if(null===ot[0])ot[0]=t.target,ot[1]=z,ot[2]=D,setTimeout(function(){ot=[null]},u);else if(ot[0]===t.target&&rt<=1&&!0===lt(z,ot[1]-10,ot[1]+10)&&!0===lt(D,ot[2]-10,ot[2]+10))return at(b,Q),!0===ut(m,I)?(b.setAttribute(G,1),b.setAttribute(J,0),b.setAttribute(K,0),At(m),ht(b,0,0,1)):(S=t.touches[0].clientX,P=t.touches[0].clientY,T=(i-1)*(R=1),X=vt(E,g,$=i),W=vt(x,v,$),$<=1?(B=0,j=0):(B=E*$<=g?0:dt(M-(S-A-g/2-M)/($-T)*T,-1*X,X),j=x*$<=v?0:dt(L-(P-p-v/2-L)/($-T)*T,-1*W,W)),gt(m),b.setAttribute(G,$),b.setAttribute(J,B),b.setAttribute(K,j),ht(b,B+"px",j+"px",i)),setTimeout(function(){bt(b,Q)},l),ot=[null],!1;M=parseFloat(b.getAttribute(J)),L=parseFloat(b.getAttribute(K))}else 2===V&&(M=parseFloat(b.getAttribute(J)),L=parseFloat(b.getAttribute(K)),F=t.touches[1].clientX,Y=t.touches[1].clientY,H=(z+F)/2,O=(D+Y)/2,y=Math.sqrt((z-F)*(z-F)+(D-Y)*(D-Y)));rt=0,tt=!0}),document.addEventListener("touchmove",function(t){if(ft(),!1===tt)return!1;S=t.touches[0].clientX,P=t.touches[0].clientY,V=t.touches.length,rt++,V>1?(C=t.touches[1].clientX,N=t.touches[1].clientY,q=Math.sqrt((S-C)*(S-C)+(P-N)*(P-N)),null===y&&(y=q),Math.abs(y-q)>=1&&($=dt(q/y*w,s,o),X=vt(E,g,$),W=vt(x,v,$),T=$-w,B=E*$<=g?0:dt(M-(H-A-g/2-M)/($-T)*T,-1*X,X),j=x*$<=v?0:dt(L-(O-p-v/2-L)/($-T)*T,-1*W,W),$>1?gt(m):At(m),ht(b,B+"px",j+"px",$),y=q,w=$,M=B,L=j)):(X=vt(E,g,$=w),W=vt(x,v,$),B=E*$<=g?0:dt(S-(z-M),-1*X,X),j=x*$<=v?0:dt(P-(D-L),-1*W,W),Math.abs(B)===Math.abs(X)&&(M=B,z=S),Math.abs(j)===Math.abs(W)&&(L=j,D=P),b.setAttribute(G,w),b.setAttribute(J,B),b.setAttribute(K,j),ht(b,B+"px",j+"px",$))},{passive:!1}),document.addEventListener("touchend",function(t){if(V=t.touches.length,!1===tt)return!1;0===V?(b.setAttribute(G,w),b.setAttribute(J,B),b.setAttribute(K,j),y=null,tt=!1):1===V?(z=t.touches[0].clientX,D=t.touches[0].clientY):V>1&&(y=null)}),ct(_,"wheel",function(t){if(m=this,b=this.children[0],k=m.getBoundingClientRect(),v=m.clientHeight,g=m.clientWidth,x=b.clientHeight,E=b.clientWidth,A=k.left,p=k.top,w=dt(parseFloat(b.getAttribute(G),s,o)),M=parseFloat(b.getAttribute(J)),L=parseFloat(b.getAttribute(K)),S=t.clientX,P=t.clientY,R=t.deltaY<0?1:-1,($=w+(T=r*R))<s||$>o)return!1;X=vt(E,g,$),W=vt(x,v,$),$<=1?(B=0,j=0):(B=E*$<=g?0:dt(M-(S-A-g/2-M)/($-T)*T,-1*X,X),j=x*$<=v?0:dt(L-(P-p-v/2-L)/($-T)*T,-1*W,W)),$>1?gt(m):At(m),b.setAttribute(G,$),b.setAttribute(J,B),b.setAttribute(K,j),ht(b,B+"px",j+"px",$)})}$(document).ready(function(){var t=window.innerWidth;t<768&&zoom({active:"zoom-active",transition:"zoom-transition",visible:"visible",zoom:"zoom-mobile"},{scaleDefault:3,scaleDifference:.5,scaleMax:10,scaleMin:1,scrollDisable:!0,transitionDuration:200,doubleclickDelay:300}),document.querySelectorAll("[data-zoom]").forEach(function(e){var n=e.querySelector("img"),i=e.dataset;t>768&&n&&(n.style.cursor="zoom-in",e.style.overflow="hidden",n.addEventListener("mousemove",function(t){var e=t.layerX,i=t.layerY,r=e/n.offsetWidth*100,o=i/n.offsetHeight*100;n.style.transformOrigin=r+"% "+o+"%"}),e.addEventListener("click",function(){var t=parseInt(i.zoomMax||1)+1,r=parseInt(i.zoomValue||1)+1;r>t?(n.style.transform="scale(1)",n.style.cursor="zoom-in",e.setAttribute("data-zoom-value","1")):(n.style.transform="scale("+r+")",e.setAttribute("data-zoom-value",r),r===t&&(n.style.cursor="zoom-out"))}))})}),"undefined"!=typeof module&&(module.exports={zoom:zoom});